{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aamer/react/csv-file/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/aamer/react/csv-file/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/aamer/react/csv-file/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/aamer/react/csv-file/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{parse}from\"papaparse\";import'bootstrap/dist/css/bootstrap.css';var callApi=function callApi(firstname,lastname,email,notes,index){setTimeout(function(){var form_data=new FormData();var objectURL;form_data.append(\"url\",\"http://alive5.com/xyz123?firstname=\".concat(firstname,\"\\n  &lastname=\").concat(lastname,\"&email=\").concat(email,\"&notes=\").concat(notes));form_data.append(\"config\",document.querySelector('#jsonconfig').value);console.log(form_data);var request={method:'POST',body:form_data,headers:{'Authorization':'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjcmVhdGVkIjoxNTEyMTUwODk2NDc4LCJlbWFpbCI6InRlc3Rjb0BtYWlsaW5hdG9yLmNvbSIsIm9yZ05hbWUiOiJ0ZXN0Y28iLCJwYXNzd29yZCI6Ik5hTmFJTGJGb1VPV3V2TUsxd3AxS2xWeDVxMjFLeUhMS01LcmtPVmVNOTYzMTlMdXRIaEcrS3psbTlhSnFnPSIsInByb2ZpbGVJbWFnZSI6ImZhY2Vib29rX3Bob3RvLnBuZyIsInJvbGUiOiJtYXN0ZXIiLCJzY3JlZW5OYW1lIjoidGVzdGNvIiwic3RhdHVzIjoibGl2ZSIsInVzZXJFbWFpbCI6InRlc3Rjb0BtYWlsaW5hdG9yLmNvbSIsInVzZXJJZCI6IjMwNjA1ODNhLWJiMjctNDU4YS1iZTE3LTkxYThhYmNhNzRlYSIsImlhdCI6MTUxMjEzMjg5N30.-tc-ZjbTw20mKaXJaSl6tOw8w5hkm584Q-TsFInCUbo'}};var myImage=document.querySelector('#img'+index);console.log(request);fetch('https://api.alive5.com/1.0/qr/create',request).then(function(response){return response.blob();}).then(function(myBlob){console.log('myblob',myBlob);objectURL=URL.createObjectURL(myBlob);console.log('myblob objectURL',objectURL);myImage.src=objectURL;});},100);};export default function App(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),highlighted=_React$useState2[0],setHighlighted=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),contacts=_React$useState4[0],setContacts=_React$useState4[1];console.log(\"the contacts are\",contacts);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center text-4xl\"},\"Drag a file here:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"p-6 my-2 mx-auto max-w-md border-2 \".concat(highlighted?\"border-green-600 bg-green-100\":\"border-gray-600\"),onDragEnter:function onDragEnter(){setHighlighted(true);},onDragLeave:function onDragLeave(){setHighlighted(false);},onDragOver:function onDragOver(e){e.preventDefault();},onDrop:function onDrop(e){e.preventDefault();setHighlighted(false);Array.from(e.dataTransfer.files).filter(function(file){return file.type===\"text/csv\";}).forEach(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(file){var text,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return file.text();case 2:text=_context.sent;result=parse(text,{header:true});setContacts(function(existing){return[].concat(_toConsumableArray(existing),_toConsumableArray(result.data));});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}},\"DROP HERE\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"textarea\",{id:\"jsonconfig\",value:\"{\\\"body\\\":\\\"pointed-in\\\",\\\"eye\\\":\\\"frame5\\\",\\\"eyeBall\\\":\\\"ball0\\\",\\\"erf1\\\":[\\\"fh\\\"],\\\"erf2\\\":[],\\\"erf3\\\":[\\\"fh\\\",\\\"fv\\\"],\\\"brf1\\\":[],\\\"brf2\\\":[],\\\"brf3\\\":[],\\\"bodyColor\\\":\\\"#b33737\\\",\\\"bgColor\\\":\\\"#aca9a9\\\",\\\"eye1Color\\\":\\\"#000000\\\",\\\"eye2Color\\\":\\\"#000000\\\",\\\"eye3Color\\\":\\\"#000000\\\",\\\"eyeBall1Color\\\":\\\"#000000\\\",\\\"eyeBall2Color\\\":\\\"#000000\\\",\\\"eyeBall3Color\\\":\\\"#000000\\\",\\\"gradientColor1\\\":\\\"#b33737\\\",\\\"gradientColor2\\\":\\\"#0277bd\\\",\\\"gradientType\\\":\\\"linear\\\",\\\"gradientOnEyes\\\":true,\\\"logo\\\":\\\"https://alive5cdn.s3.amazonaws.com/images/widgets/upload/1598944645035_qr.png\\\",\\\"logoMode\\\":\\\"default\\\"}\"})),/*#__PURE__*/React.createElement(\"table\",{class:\"table table-bordered\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"#\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"First Name\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Last Name\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Email\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Notes\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"QR-CODE\"))),/*#__PURE__*/React.createElement(\"tbody\",null,contacts.map(function(contact,index){if(contact.firstname){callApi(contact.firstname,contact.lastname,contact.email,contact.notes,index);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},index+1),/*#__PURE__*/React.createElement(\"td\",null,contact.firstname),/*#__PURE__*/React.createElement(\"td\",null,contact.lastname),/*#__PURE__*/React.createElement(\"td\",null,contact.email),/*#__PURE__*/React.createElement(\"td\",null,contact.note),/*#__PURE__*/React.createElement(\"td\",null,\" \",/*#__PURE__*/React.createElement(\"img\",{id:'img'+index,style:{width:300}}))));}))));}","map":{"version":3,"sources":["/Users/aamer/react/csv-file/src/App.js"],"names":["React","parse","callApi","firstname","lastname","email","notes","index","setTimeout","form_data","FormData","objectURL","append","document","querySelector","value","console","log","request","method","body","headers","myImage","fetch","then","response","blob","myBlob","URL","createObjectURL","src","App","useState","highlighted","setHighlighted","contacts","setContacts","e","preventDefault","Array","from","dataTransfer","files","filter","file","type","forEach","text","result","header","existing","data","map","contact","note","width"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { parse } from \"papaparse\";\nimport 'bootstrap/dist/css/bootstrap.css';\n\nconst callApi=(firstname,lastname, email,notes, index)=> {\n  setTimeout(() => {\n    var form_data = new FormData();\n  var objectURL\n  form_data.append(\"url\", `http://alive5.com/xyz123?firstname=${firstname}\n  &lastname=${lastname}&email=${email}&notes=${notes}`);\n  form_data.append(\"config\", document.querySelector('#jsonconfig').value)\n  console.log(form_data)\n  const request = {\n    method: 'POST',\n    body: form_data,\n    headers: {\n      'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjcmVhdGVkIjoxNTEyMTUwODk2NDc4LCJlbWFpbCI6InRlc3Rjb0BtYWlsaW5hdG9yLmNvbSIsIm9yZ05hbWUiOiJ0ZXN0Y28iLCJwYXNzd29yZCI6Ik5hTmFJTGJGb1VPV3V2TUsxd3AxS2xWeDVxMjFLeUhMS01LcmtPVmVNOTYzMTlMdXRIaEcrS3psbTlhSnFnPSIsInByb2ZpbGVJbWFnZSI6ImZhY2Vib29rX3Bob3RvLnBuZyIsInJvbGUiOiJtYXN0ZXIiLCJzY3JlZW5OYW1lIjoidGVzdGNvIiwic3RhdHVzIjoibGl2ZSIsInVzZXJFbWFpbCI6InRlc3Rjb0BtYWlsaW5hdG9yLmNvbSIsInVzZXJJZCI6IjMwNjA1ODNhLWJiMjctNDU4YS1iZTE3LTkxYThhYmNhNzRlYSIsImlhdCI6MTUxMjEzMjg5N30.-tc-ZjbTw20mKaXJaSl6tOw8w5hkm584Q-TsFInCUbo'\n    }\n  }\n  var myImage = document.querySelector('#img' + index);\n  console.log(request)\n  fetch('https://api.alive5.com/1.0/qr/create', request).then(function (response) {\n    return response.blob();\n  }).then(function (myBlob) {\n    console.log('myblob', myBlob)\n    objectURL = URL.createObjectURL(myBlob);\n    console.log('myblob objectURL', objectURL)\n    myImage.src = objectURL\n  });\n  }, 100);\n}\n\nexport default function App() {\n  const [highlighted, setHighlighted] = React.useState(false);\n  const [contacts, setContacts] = React.useState([\n  ]);\n  console.log(\"the contacts are\", contacts)\n  return (\n    <div>\n      <h1 className=\"text-center text-4xl\">Drag a file here:</h1>\n      <div\n        className={`p-6 my-2 mx-auto max-w-md border-2 ${\n          highlighted ? \"border-green-600 bg-green-100\" : \"border-gray-600\"\n          }`}\n        onDragEnter={() => {\n          setHighlighted(true);\n        }}\n        onDragLeave={() => {\n          setHighlighted(false);\n        }}\n        onDragOver={(e) => {\n          e.preventDefault();\n        }}\n        onDrop={(e) => {\n          e.preventDefault();\n          setHighlighted(false);\n\n          Array.from(e.dataTransfer.files)\n            .filter((file) => file.type === \"text/csv\")\n            .forEach(async (file) => {\n              const text = await file.text();\n              const result = parse(text, { header: true });\n              setContacts((existing) => [...existing, ...result.data]);\n            });\n        }}\n      >\n        DROP HERE\n      </div>\n      <div>\n        <textarea id=\"jsonconfig\" value='{\"body\":\"pointed-in\",\"eye\":\"frame5\",\"eyeBall\":\"ball0\",\"erf1\":[\"fh\"],\"erf2\":[],\"erf3\":[\"fh\",\"fv\"],\"brf1\":[],\"brf2\":[],\"brf3\":[],\"bodyColor\":\"#b33737\",\"bgColor\":\"#aca9a9\",\"eye1Color\":\"#000000\",\"eye2Color\":\"#000000\",\"eye3Color\":\"#000000\",\"eyeBall1Color\":\"#000000\",\"eyeBall2Color\":\"#000000\",\"eyeBall3Color\":\"#000000\",\"gradientColor1\":\"#b33737\",\"gradientColor2\":\"#0277bd\",\"gradientType\":\"linear\",\"gradientOnEyes\":true,\"logo\":\"https://alive5cdn.s3.amazonaws.com/images/widgets/upload/1598944645035_qr.png\",\"logoMode\":\"default\"}'></textarea>\n      </div>\n      <table class=\"table table-bordered\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">First Name</th>\n            <th scope=\"col\">Last Name</th>\n            <th scope=\"col\">Email</th>\n            <th scope=\"col\">Notes</th>\n            <th scope=\"col\">QR-CODE</th>\n          </tr>\n        </thead>\n        <tbody>\n          {contacts.map((contact, index) => {\n            if(contact.firstname) {callApi(contact.firstname, \n              contact.lastname, \n              contact.email,\n              contact.notes,\n              index)}\n            return <> \n              <tr key={index}>\n                <th scope=\"row\">{index + 1}</th>\n                <td>{contact.firstname}</td>\n                <td>{contact.lastname}</td>\n                <td>{contact.email}</td>\n                <td>{contact.note}</td>\n                <td> <img id={'img' + index}  style={{width:300}} /></td>\n              </tr>\n            </>\n          })}\n        </tbody>\n      </table>\n      {/* <img id=\"img\" /> */}\n    </div>\n  );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}