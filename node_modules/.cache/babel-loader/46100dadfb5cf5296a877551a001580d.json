{"ast":null,"code":"var _jsxFileName = \"/Users/aamer/react/csv-file/src/App.js\";\nimport React from \"react\";\nimport { parse } from \"papaparse\";\nimport 'bootstrap/dist/css/bootstrap.css';\n\nfunction callApi(name, email, setDataUsers) {\n  var form_data = new FormData();\n  form_data.append(\"url\", `http://alive5.com/xyz123?firstname=${name}&email=${email}`);\n  console.log(form_data);\n  const request = {\n    method: 'POST',\n    body: form_data,\n    headers: {\n      'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjcmVhdGVkIjoxNTEyMTUwODk2NDc4LCJlbWFpbCI6InRlc3Rjb0BtYWlsaW5hdG9yLmNvbSIsIm9yZ05hbWUiOiJ0ZXN0Y28iLCJwYXNzd29yZCI6Ik5hTmFJTGJGb1VPV3V2TUsxd3AxS2xWeDVxMjFLeUhMS01LcmtPVmVNOTYzMTlMdXRIaEcrS3psbTlhSnFnPSIsInByb2ZpbGVJbWFnZSI6ImZhY2Vib29rX3Bob3RvLnBuZyIsInJvbGUiOiJtYXN0ZXIiLCJzY3JlZW5OYW1lIjoidGVzdGNvIiwic3RhdHVzIjoibGl2ZSIsInVzZXJFbWFpbCI6InRlc3Rjb0BtYWlsaW5hdG9yLmNvbSIsInVzZXJJZCI6IjMwNjA1ODNhLWJiMjctNDU4YS1iZTE3LTkxYThhYmNhNzRlYSIsImlhdCI6MTUxMjEzMjg5N30.-tc-ZjbTw20mKaXJaSl6tOw8w5hkm584Q-TsFInCUbo'\n    }\n  };\n  var myImage = document.querySelector(index);\n  console.log(request);\n  fetch('https://api.alive5.com/1.0/qr/create', request).then(function (response) {\n    return response.blob();\n  }).then(function (myBlob) {\n    // console.log('myblob', myBlob)\n    var objectURL = URL.createObjectURL(myBlob);\n    setDataUsers({\n      name,\n      email,\n      src: objectURL\n    }); // myImage.src = objectURL;\n  }); // return \n}\n\nexport default function App() {\n  const [highlighted, setHighlighted] = React.useState(false);\n  const [contacts, setContacts] = React.useState([{\n    email: \"fake@gmail.com\",\n    name: \"Fake\"\n  }]);\n  const [dataUsers, setDataUsers] = React.useState({\n    name: '',\n    email: '',\n    imgSrc: ''\n  });\n  console.log(\"the contacts are\", contacts);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center text-4xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"Drag a file here:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: `p-6 my-2 mx-auto max-w-md border-2 ${highlighted ? \"border-green-600 bg-green-100\" : \"border-gray-600\"}`,\n    onDragEnter: () => {\n      setHighlighted(true);\n    },\n    onDragLeave: () => {\n      setHighlighted(false);\n    },\n    onDragOver: e => {\n      e.preventDefault();\n    },\n    onDrop: e => {\n      e.preventDefault();\n      setHighlighted(false);\n      Array.from(e.dataTransfer.files).filter(file => file.type === \"text/csv\").forEach(async file => {\n        const text = await file.text();\n        const result = parse(text, {\n          header: true\n        });\n        setContacts(existing => [...existing, ...result.data]);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"DROP HERE\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, contacts.map((contact, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 18\n      }\n    }, contact.__parsed_extra && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }, callApi(contact.__parsed_extra[0], contact.__parsed_extra[1], setDataUsers)));\n  })), dataUsers.map((item, index) => {\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, item.email), /*#__PURE__*/React.createElement(\"img\", {\n      src: item.src,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }));\n  }));\n}","map":{"version":3,"sources":["/Users/aamer/react/csv-file/src/App.js"],"names":["React","parse","callApi","name","email","setDataUsers","form_data","FormData","append","console","log","request","method","body","headers","myImage","document","querySelector","index","fetch","then","response","blob","myBlob","objectURL","URL","createObjectURL","src","App","highlighted","setHighlighted","useState","contacts","setContacts","dataUsers","imgSrc","e","preventDefault","Array","from","dataTransfer","files","filter","file","type","forEach","text","result","header","existing","data","map","contact","__parsed_extra","item"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { parse } from \"papaparse\";\nimport 'bootstrap/dist/css/bootstrap.css';\n\nfunction callApi(name, email, setDataUsers) {\n\n  var form_data = new FormData();\n\n  form_data.append(\"url\", `http://alive5.com/xyz123?firstname=${name}&email=${email}`);\n  console.log(form_data)\n  const request = {\n    method: 'POST',\n    body: form_data,\n    headers: {\n      'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjcmVhdGVkIjoxNTEyMTUwODk2NDc4LCJlbWFpbCI6InRlc3Rjb0BtYWlsaW5hdG9yLmNvbSIsIm9yZ05hbWUiOiJ0ZXN0Y28iLCJwYXNzd29yZCI6Ik5hTmFJTGJGb1VPV3V2TUsxd3AxS2xWeDVxMjFLeUhMS01LcmtPVmVNOTYzMTlMdXRIaEcrS3psbTlhSnFnPSIsInByb2ZpbGVJbWFnZSI6ImZhY2Vib29rX3Bob3RvLnBuZyIsInJvbGUiOiJtYXN0ZXIiLCJzY3JlZW5OYW1lIjoidGVzdGNvIiwic3RhdHVzIjoibGl2ZSIsInVzZXJFbWFpbCI6InRlc3Rjb0BtYWlsaW5hdG9yLmNvbSIsInVzZXJJZCI6IjMwNjA1ODNhLWJiMjctNDU4YS1iZTE3LTkxYThhYmNhNzRlYSIsImlhdCI6MTUxMjEzMjg5N30.-tc-ZjbTw20mKaXJaSl6tOw8w5hkm584Q-TsFInCUbo'\n    }\n  }\n  var myImage = document.querySelector(index);\n  console.log(request)\n  fetch('https://api.alive5.com/1.0/qr/create', request).then(function (response) {\n    return response.blob();\n  }).then(function (myBlob) {\n    // console.log('myblob', myBlob)\n    var objectURL = URL.createObjectURL(myBlob);\n    setDataUsers({\n      name,\n      email,\n      src:objectURL\n    })\n    // myImage.src = objectURL;\n  });\n  // return \n}\n\nexport default function App() {\n  const [highlighted, setHighlighted] = React.useState(false);\n  const [contacts, setContacts] = React.useState([\n    { email: \"fake@gmail.com\", name: \"Fake\" },\n  ]);\n  const [dataUsers,setDataUsers] = React.useState({\n    name:'',\n    email:'',\n    imgSrc:'',\n  })\n  console.log(\"the contacts are\", contacts)\n  return (\n    <div>\n      <h1 className=\"text-center text-4xl\">Drag a file here:</h1>\n      <div\n        className={`p-6 my-2 mx-auto max-w-md border-2 ${\n          highlighted ? \"border-green-600 bg-green-100\" : \"border-gray-600\"\n          }`}\n        onDragEnter={() => {\n          setHighlighted(true);\n        }}\n        onDragLeave={() => {\n          setHighlighted(false);\n        }}\n        onDragOver={(e) => {\n          e.preventDefault();\n        }}\n        onDrop={(e) => {\n          e.preventDefault();\n          setHighlighted(false);\n\n          Array.from(e.dataTransfer.files)\n            .filter((file) => file.type === \"text/csv\")\n            .forEach(async (file) => {\n              const text = await file.text();\n              const result = parse(text, { header: true });\n              setContacts((existing) => [...existing, ...result.data]);\n            });\n        }}\n      >\n        DROP HERE\n      </div>\n\n      <ul>\n        {contacts.map((contact, index) => {\n          return <div>\n            {contact.__parsed_extra\n              &&\n              <div>\n                {/* <li key={index}> */}\n                {callApi(contact.__parsed_extra[0], contact.__parsed_extra[1], setDataUsers)}\n                {/* <strong>{contact.name}</strong>{contact.__parsed_extra[0]} :\n                 {contact.__parsed_extra[1]}:\n                 {contact.__parsed_extra[2]} */}\n                {/* </li> */}\n\n              </div>\n\n            }\n          </div>\n        }\n\n        )\n        }\n      </ul>\n      {/* <img id=\"img\" /> */}\n      {dataUsers.map((item, index) => {\n        <div>\n          <p>{item.name}</p>\n          <p>{item.email}</p>\n          <img src={item.src}/>\n        </div>\n      })\n      }\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}