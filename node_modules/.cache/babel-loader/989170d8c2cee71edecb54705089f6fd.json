{"ast":null,"code":"var _jsxFileName = \"/Users/aamer/react/csv-file/src/App.js\";\nimport React, { useRef } from \"react\";\nimport { parse } from \"papaparse\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport ReactFileReader from 'react-file-reader';\n\nconst callApi = (firstname, lastname, email, notes, index) => {\n  let inputurl = document.querySelector('#inputurl').value;\n  console.log('the url is ', `${inputurl}?firstname=${firstname}\n  &lastname=${lastname}&email=${email}&notes=${notes}`);\n  setTimeout(() => {\n    var form_data = new FormData();\n    var objectURL;\n    let newUrl = `${inputurl}?firstname=${firstname}&lastname=${lastname}&email=${email}&notes=${notes}`;\n    form_data.append(\"url\", newUrl);\n    form_data.append(\"config\", document.querySelector('#jsonconfig').value);\n    console.log(form_data);\n    const request = {\n      method: 'POST',\n      body: form_data,\n      headers: {\n        'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjcmVhdGVkIjoxNTEyMTUwODk2NDc4LCJlbWFpbCI6InRlc3Rjb0BtYWlsaW5hdG9yLmNvbSIsIm9yZ05hbWUiOiJ0ZXN0Y28iLCJwYXNzd29yZCI6Ik5hTmFJTGJGb1VPV3V2TUsxd3AxS2xWeDVxMjFLeUhMS01LcmtPVmVNOTYzMTlMdXRIaEcrS3psbTlhSnFnPSIsInByb2ZpbGVJbWFnZSI6ImZhY2Vib29rX3Bob3RvLnBuZyIsInJvbGUiOiJtYXN0ZXIiLCJzY3JlZW5OYW1lIjoidGVzdGNvIiwic3RhdHVzIjoibGl2ZSIsInVzZXJFbWFpbCI6InRlc3Rjb0BtYWlsaW5hdG9yLmNvbSIsInVzZXJJZCI6IjMwNjA1ODNhLWJiMjctNDU4YS1iZTE3LTkxYThhYmNhNzRlYSIsImlhdCI6MTUxMjEzMjg5N30.-tc-ZjbTw20mKaXJaSl6tOw8w5hkm584Q-TsFInCUbo'\n      }\n    };\n    var myImage = document.querySelector('#img' + index);\n    console.log(request);\n    fetch('https://api.alive5.com/1.0/qr/create', request).then(function (response) {\n      return response.blob();\n    }).then(function (myBlob) {\n      console.log('myblob', myBlob);\n      objectURL = URL.createObjectURL(myBlob);\n      console.log('myblob objectURL', objectURL);\n      myImage.src = objectURL;\n    });\n  }, 100);\n};\n\nexport default function App() {\n  const [highlighted, setHighlighted] = React.useState(false);\n  const [contacts, setContacts] = React.useState([]);\n\n  const handleFiles = files => {\n    var reader = new FileReader();\n\n    reader.onload = function (e) {\n      console.log('eeeee', e);\n      e.preventDefault();\n      setHighlighted(false);\n      console.log('eeeee', e);\n      Array.from(e.FileReader).filter(file => file.type === \"text/csv\").forEach(async file => {\n        const text = await file.text();\n        const result = parse(text, {\n          header: true\n        });\n        setContacts(existing => [...existing, ...result.data]);\n      }); // Use reader.result\n      // alert(reader.result)\n    };\n\n    reader.readAsText(files[0]);\n  };\n\n  console.log(\"the contacts are\", contacts);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center text-4xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, \"Drag a file here:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: `p-6 my-2 mx-auto max-w-md border-2 ${highlighted ? \"border-green-600 bg-green-100\" : \"border-gray-600\"}`,\n    onDragEnter: () => {\n      setHighlighted(true);\n    },\n    onDragLeave: () => {\n      setHighlighted(false);\n    },\n    onDragOver: e => {\n      e.preventDefault();\n    },\n    onDrop: e => {\n      e.preventDefault();\n      setHighlighted(false);\n      Array.from(e.dataTransfer.files).filter(file => file.type === \"text/csv\").forEach(async file => {\n        const text = await file.text();\n        const result = parse(text, {\n          header: true\n        });\n        setContacts(existing => [...existing, ...result.data]);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"DROP HERE\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ReactFileReader, {\n    handleFiles: handleFiles,\n    fileTypes: '.csv',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, \"Upload\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, \"URL:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"inputurl\",\n    placeholder: \"https://alive5.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"jsonconfig\",\n    value: \"{\\\"body\\\":\\\"pointed-in\\\",\\\"eye\\\":\\\"frame5\\\",\\\"eyeBall\\\":\\\"ball0\\\",\\\"erf1\\\":[\\\"fh\\\"],\\\"erf2\\\":[],\\\"erf3\\\":[\\\"fh\\\",\\\"fv\\\"],\\\"brf1\\\":[],\\\"brf2\\\":[],\\\"brf3\\\":[],\\\"bodyColor\\\":\\\"#b33737\\\",\\\"bgColor\\\":\\\"#aca9a9\\\",\\\"eye1Color\\\":\\\"#000000\\\",\\\"eye2Color\\\":\\\"#000000\\\",\\\"eye3Color\\\":\\\"#000000\\\",\\\"eyeBall1Color\\\":\\\"#000000\\\",\\\"eyeBall2Color\\\":\\\"#000000\\\",\\\"eyeBall3Color\\\":\\\"#000000\\\",\\\"gradientColor1\\\":\\\"#b33737\\\",\\\"gradientColor2\\\":\\\"#0277bd\\\",\\\"gradientType\\\":\\\"linear\\\",\\\"gradientOnEyes\\\":true,\\\"logo\\\":\\\"https://alive5cdn.s3.amazonaws.com/images/widgets/upload/1598944645035_qr.png\\\",\\\"logoMode\\\":\\\"default\\\"}\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, \"Notes\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, \"QR-CODE\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, contacts.map((contact, index) => {\n    if (contact.firstname) {\n      callApi(contact.firstname, contact.lastname, contact.email, contact.note, index);\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"tr\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, contact.firstname), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, contact.lastname), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, contact.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, contact.note), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n      id: 'img' + index,\n      style: {\n        width: 300\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 22\n      }\n    }))));\n  }))));\n}","map":{"version":3,"sources":["/Users/aamer/react/csv-file/src/App.js"],"names":["React","useRef","parse","ReactFileReader","callApi","firstname","lastname","email","notes","index","inputurl","document","querySelector","value","console","log","setTimeout","form_data","FormData","objectURL","newUrl","append","request","method","body","headers","myImage","fetch","then","response","blob","myBlob","URL","createObjectURL","src","App","highlighted","setHighlighted","useState","contacts","setContacts","handleFiles","files","reader","FileReader","onload","e","preventDefault","Array","from","filter","file","type","forEach","text","result","header","existing","data","readAsText","dataTransfer","map","contact","note","width"],"mappings":"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","sourcesContent":["import React, { useRef } from \"react\";\nimport { parse } from \"papaparse\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport ReactFileReader from 'react-file-reader';\n\nconst callApi=(firstname,lastname, email,notes, index)=> {\n  let inputurl = document.querySelector('#inputurl').value;\n  console.log('the url is ',`${inputurl}?firstname=${firstname}\n  &lastname=${lastname}&email=${email}&notes=${notes}`)\n  setTimeout(() => {\n    var form_data = new FormData();\n  var objectURL\n  let newUrl= `${inputurl}?firstname=${firstname}&lastname=${lastname}&email=${email}&notes=${notes}`\n  form_data.append(\"url\",newUrl);\n  form_data.append(\"config\", document.querySelector('#jsonconfig').value)\n  console.log(form_data)\n  const request = {\n    method: 'POST',\n    body: form_data,\n    headers: {\n      'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjcmVhdGVkIjoxNTEyMTUwODk2NDc4LCJlbWFpbCI6InRlc3Rjb0BtYWlsaW5hdG9yLmNvbSIsIm9yZ05hbWUiOiJ0ZXN0Y28iLCJwYXNzd29yZCI6Ik5hTmFJTGJGb1VPV3V2TUsxd3AxS2xWeDVxMjFLeUhMS01LcmtPVmVNOTYzMTlMdXRIaEcrS3psbTlhSnFnPSIsInByb2ZpbGVJbWFnZSI6ImZhY2Vib29rX3Bob3RvLnBuZyIsInJvbGUiOiJtYXN0ZXIiLCJzY3JlZW5OYW1lIjoidGVzdGNvIiwic3RhdHVzIjoibGl2ZSIsInVzZXJFbWFpbCI6InRlc3Rjb0BtYWlsaW5hdG9yLmNvbSIsInVzZXJJZCI6IjMwNjA1ODNhLWJiMjctNDU4YS1iZTE3LTkxYThhYmNhNzRlYSIsImlhdCI6MTUxMjEzMjg5N30.-tc-ZjbTw20mKaXJaSl6tOw8w5hkm584Q-TsFInCUbo'\n    }\n  }\n  var myImage = document.querySelector('#img' + index);\n  console.log(request)\n  fetch('https://api.alive5.com/1.0/qr/create', request).then(function (response) {\n    return response.blob();\n  }).then(function (myBlob) {\n    console.log('myblob', myBlob)\n    objectURL = URL.createObjectURL(myBlob);\n    console.log('myblob objectURL', objectURL)\n    myImage.src = objectURL\n  });\n  }, 100);\n}\n\nexport default function App() {\n  const [highlighted, setHighlighted] = React.useState(false);\n  const [contacts, setContacts] = React.useState([\n  ]);\n  \n  const handleFiles = files => {\n    var reader = new FileReader();\n    reader.onload = function(e) {\n      console.log('eeeee',e);\n      e.preventDefault();\n          setHighlighted(false);\n          console.log('eeeee',e)\n          Array.from(e.FileReader)\n\n            .filter((file) => file.type === \"text/csv\")\n            .forEach(async (file) => {\n              const text = await file.text();\n              const result = parse(text, { header: true });\n              setContacts((existing) => [...existing, ...result.data]);\n            });\n        // Use reader.result\n        // alert(reader.result)\n    }\n    reader.readAsText(files[0]);\n}\n  console.log(\"the contacts are\", contacts)\n  return (\n    <div>\n      <h1 className=\"text-center text-4xl\">Drag a file here:</h1>\n      <div\n        className={`p-6 my-2 mx-auto max-w-md border-2 ${\n          highlighted ? \"border-green-600 bg-green-100\" : \"border-gray-600\"\n          }`}\n        onDragEnter={() => {\n          setHighlighted(true);\n        }}\n        onDragLeave={() => {\n          setHighlighted(false);\n        }}\n        onDragOver={(e) => {\n          e.preventDefault();\n        }}\n        onDrop={(e) => {\n          e.preventDefault();\n          setHighlighted(false);\n\n          Array.from(e.dataTransfer.files)\n            .filter((file) => file.type === \"text/csv\")\n            .forEach(async (file) => {\n              const text = await file.text();\n              const result = parse(text, { header: true });\n              setContacts((existing) => [...existing, ...result.data]);\n            });\n        }}\n      >\n        DROP HERE\n      </div>\n      <div>\n      <ReactFileReader handleFiles={handleFiles } fileTypes={'.csv'}>\n    <button className='btn'>Upload</button>\n    </ReactFileReader> \n      </div>\n      <div>\n      <label>\n        URL:\n        <input type=\"text\" id=\"inputurl\" placeholder=\"https://alive5.com\" />\n      </label>\n      </div>\n      <div>\n        <textarea id=\"jsonconfig\" value='{\"body\":\"pointed-in\",\"eye\":\"frame5\",\"eyeBall\":\"ball0\",\"erf1\":[\"fh\"],\"erf2\":[],\"erf3\":[\"fh\",\"fv\"],\"brf1\":[],\"brf2\":[],\"brf3\":[],\"bodyColor\":\"#b33737\",\"bgColor\":\"#aca9a9\",\"eye1Color\":\"#000000\",\"eye2Color\":\"#000000\",\"eye3Color\":\"#000000\",\"eyeBall1Color\":\"#000000\",\"eyeBall2Color\":\"#000000\",\"eyeBall3Color\":\"#000000\",\"gradientColor1\":\"#b33737\",\"gradientColor2\":\"#0277bd\",\"gradientType\":\"linear\",\"gradientOnEyes\":true,\"logo\":\"https://alive5cdn.s3.amazonaws.com/images/widgets/upload/1598944645035_qr.png\",\"logoMode\":\"default\"}'></textarea>\n      </div>\n      <table class=\"table table-bordered\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">First Name</th>\n            <th scope=\"col\">Last Name</th>\n            <th scope=\"col\">Email</th>\n            <th scope=\"col\">Notes</th>\n            <th scope=\"col\">QR-CODE</th>\n          </tr>\n        </thead>\n        <tbody>\n          {contacts.map((contact, index) => {\n            if(contact.firstname) {callApi(contact.firstname, \n              contact.lastname, \n              contact.email,\n              contact.note,\n              index)}\n            return <> \n              <tr key={index}>\n                <th scope=\"row\">{index + 1}</th>\n                <td>{contact.firstname}</td>\n                <td>{contact.lastname}</td>\n                <td>{contact.email}</td>\n                <td>{contact.note}</td>\n                <td> <img id={'img' + index}  style={{width:300}} /></td>\n              </tr>\n            </>\n          })}\n        </tbody>\n      </table>\n      {/* <img id=\"img\" /> */}\n    </div>\n  );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}